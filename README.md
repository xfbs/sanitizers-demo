# LLVM Sanitizers Demos

These are a few little demos for the LLVM sanitizers. 

If you compile and run them, you will see that each of them prints a little error message after being run. This error message isn't generated by the code itself, but rather by the sanitizers baked into the binary by `clang`. These can help in debugging the code by detecting errors at runtime (dynamic analysis). Hence it is useful to have these checks enabled during testing, when ideally all code is being touched.

## Caveats

If compiling under macOS, you can't use the version of clang that Apple ships by default because it doesn't have support for the sanitizers compiled in. Instead, you have to install clang from Homebrew.

    $ brew install llvm

To compile everything, you need to let `make` know that you want to use a different version of `clang`. That is done by setting the right variables.

    $ make CC=/usr/local/opt/llvm/bin/clang

For convenience, you can just run `make macos` and it will build everything using the correct compiler. If you get an error that it can't find `stdio.h`, then you will need to manually install the system headers, which you can do by running

    $ open /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg

These used to be installed along with the other command line developer tools, but since macOS 10.14 Mojave, they need to be installed manually.
